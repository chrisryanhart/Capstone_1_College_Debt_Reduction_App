{% extends 'index.html' %}

{% block links %}
    <li class="nav-item">
        <a class="nav-link" href="/search">New Search</a> <link rel="stylesheet" href="">
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/userProfile">Edit Profile</a> <link rel="stylesheet" href="">
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/logout">Logout</a> <link rel="stylesheet" href="">
    </li>
{% endblock %}

{% block content %}

<p>Ready to start a new search</p>

<form action="/search" method="post">
    {{form.hidden_tag()}}

    {% for field in form if field.widget.type != 'hidden' %}
        {% if field.label.text == "Major:" %}
            <div class="row mb-3">
                {{field.label(class_="col-1 form-label")}}
                <div class="col-8">
                    {{field(list=field.name + "-list", class_="form-control")}}
                    <datalist id="{{field.name}}-list">
                        {% for major in majors %}
                            <option value="{{major.title}}">
                        {% endfor %}
                    </datalist>
                </div>
    
            </div>

            

            <p>
                {% for error in field.errors %}
                    {{error}}
                {% endfor %}
            </p>

        {% elif field.label.text == "College:" %}

            <div class="row mb-3">
                {{field.label(class_="col-1 form-label")}}
                <div class="col-8">
                    {{field(list=field.name + "-list",class_="form-control")}}
    
                    <datalist id="{{field.name}}-list">
                        {% for school in schools %}
                            <option value="{{school.name}}">
                        {% endfor %}
                    </datalist>
                </div>
            </div>
            <p>
                {% for error in field.errors %}
                    {{error}}
                {% endfor %}
            </p>

        
        {% elif field.label.text == 'State:' %}
            <div class="row mb-3">
                {{field.label(class_="col-1 form-label")}}
                <div class="col-2">
                    {{field(list=field.name + "-list",class_="form-control")}}
    
                    <datalist id="{{field.name}}-list">
                        {% for state in states %}
                            <option value="{{state.name}}">
                        {% endfor %}
                    </datalist>
                </div>

            </div>    

            <p>
                {% for error in field.errors %}
                    {{error}}
                {% endfor %}
            </p>


        {% endif %}

    {% endfor %}

    <div>
        <button>Search</button>
    </div>

</form>

{% endblock %}
